<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador financeiro</title>
</head>

<body>
    <div id="calculadora">
        <p>Seja bem-vindo √† calculadora Financeira da <span>VZND</span></p>
        <p>Preencha os campos abaixo com as informa√ß√µes relacionadas √† sua √°rea de gasodutos e calcularemos seu preju√≠zo
            e
            economia com a solu√ß√£o da <span>VZND</span></p>

        <p>Quanto o tempo m√©dio, em minutos, de seus vazamentos de g√°s at√© serem solucionados?</p>
        <input type="number" id="ipt_mediaTempoVazamento">
        <p>Digite o valor m√©dio, em Reais (R$), do metro c√∫bico (m¬≥) de g√°s</p>
        <input type="number" id="ipt_precoMedioGas">
        <p>Digite o valor m√©dio, em m¬≤, da √°rea de rachadura em seus gasodutos</p>
        <input type="number" id="ipt_valorAreaRachadura">
        <button onclick="fnCalcular()">Calcular</button>
        <div id="div_resultado"></div>
    </div>
    <div id="orcamento" style="display: none;">
        <h2>Simula√ß√£o de or√ßamento do sensor da <b>VZ<span style="color: #5CE1E6">ND</span></b></h2>

        <p>Esta p√°gina permite que voc√™ simule o or√ßamento estimado para a instala√ß√£o de sensores ao longo de um
            gasoduto, considerando √°reas de alto e baixo risco.<br>
            Preencha os campos abaixo com os detalhes do projeto para obter uma estimativa de custo.</p>


        Comprimento total do gasoduto (em metros):<br>
        <input id="input_comprimento" type="number"><br><br>

        Comprimento da √°rea de alto risco (em metros):<br>
        <input id="input_altoRisco" type="number"><br><br>

        Espa√ßamento entre sensores na √°rea de alto risco (de 10 a 50 metros):<br>
        <input id="input_espacoAlto" type="number" min="10" max="50"><br><br>

        Espa√ßamento entre sensores na √°rea de baixo risco (de 100 a 500 metros):<br>
        <input id="input_espacoBaixo" type="number" min="100" max="500"><br><br>

        <button onclick="fnCalcularOrcamento()">Simule o or√ßamento</button>

        <br><br>

        <div id="div_mostrar"></div>
    </div>
</body>

</html>
<script>
    function fnCalcular() {
        // Entrada
        var mediaTempoVazamento = Number(ipt_mediaTempoVazamento.value);
        var precoMedioGas = Number(ipt_precoMedioGas.value);
        var valorAreaRachadura = Number(ipt_valorAreaRachadura.value);

        // Processamento

        // Aqui fa√ßo uma valida√ß√£o para saber se o usu√°rio digitou algum valor nas inputs
        // Geralmente utilizamos a condi√ß√£o "OR", que j√° vimos em banco de dados mas ainda n√£o em algoritmos, 
        // ent√£o resolvi fazer dessa maneira mais "feia" mas que n√£o exija que ningu√©m fique pra tr√°s no entendimento
        if (mediaTempoVazamento == 0) {
            alert("Preencha o campo de tempo m√©dio de vazamento.");
        } else {
            if (precoMedioGas == 0) {
                alert("Preencha o pre√ßo m√©dio do g√°s.");
            } else {
                if (valorAreaRachadura == 0) {
                    alert("Preencha o valor da √°rea da rachadura");
                    // A partir dessa linha de baixo, fa√ßo a minha conta, j√° que nenhum campo est√° vazio
                } else {

                    // Valor do g√°s perdido por minuto (valor * tempo)
                    var valorGasPorMinuto = (mediaTempoVazamento * precoMedioGas).toFixed(2);
                    // C√°lculo da perda por hora, dia, m√™s, semestre e ano
                    // hora
                    var perdaGasPorHora = (valorGasPorMinuto * 60).toFixed(2);
                    //dia 
                    var perdaGasPorDia = (perdaGasPorHora * 24).toFixed(2);
                    //mes
                    var perdaGasPorMes = (perdaGasPorDia * 30).toFixed(2);
                    // Semestre
                    var perdaGasSemestral = (perdaGasPorMes * 60).toFixed(2);
                    // Anual
                    var perdaGasAnual = (perdaGasSemestral * 2).toFixed(2);

                    // Desconto de at√© 90% no tempo de resolu√ß√£o
                    var descontoPorHora = (perdaGasPorHora * 0.1).toFixed(2);
                    var descontoPorMes = (perdaGasPorMes * 0.1).toFixed(2);
                    var descontoAnual = (perdaGasAnual * 0.1).toFixed(2);

                    div_resultado.innerHTML = `
                    <b>Com uma rachadura de aproximadamente ${valorAreaRachadura} m¬≤ e sem atua√ß√£o apropriada, voc√™ pode perder aproximadamente:</b> 
                    <ul>
                        <li>‚è±Ô∏è R$${perdaGasPorDia} por dia.</li>
                        <li>üìÖ R$${perdaGasPorMes} por m√™s</li>
                        <li>‚è≥ R$${perdaGasAnual} por ano</li>
                    </ul>
                    
                    <b>Com a solu√ß√£o da VZ<span style="color: #5CE1E6">ND</span>, voc√™ poderia:</b>
                    <ul>
                        <li>‚è±Ô∏è Reduzir o tempo para conter vazamentos em at√© 90%</li>
                        <li>‚è≥ A m√©dia de tempo atual que voc√™ leva para conter um vazamento √© de ${mediaTempoVazamento} minutos</li>
                        <li>‚ö° Voc√™ passaria a atuar na conten√ß√£o do vazamento em at√© ${(mediaTempoVazamento * 0.1).toFixed(2)} minutos</li>
                        </ul>
                    
                    <b>Economia:</b>
                    <ul>
                        <li>üíµ Com a solu√ß√£o da VZ<span style="color: #5CE1E6">ND</span>, voc√™ poderia <b style="color: green">economizar</b> aproximadamente R$${(perdaGasPorMes - descontoPorMes)} <b>por m√™s</b></li>
                        <li>üíµ Com a solu√ß√£o da VZ<span style="color: #5CE1E6">ND</span>, voc√™ poderia <b style="color: green">economizar</b> aproximadamente R$${(perdaGasAnual - descontoAnual).toFixed(2)} <b>por ano</b></li>
                    </ul>

                    <p>üôÇ Vamos fazer um or√ßamento da solu√ß√£o? <span style='color: green; cursor: pointer'><a onclick='fnMudarPaginas()'>Clique aqui</a></span> para irmos at√© o or√ßamento :)</p>
`;
                }
            }
        }

    }

    // Essa fun√ß√£o faz a troca entre a calculadora financeira e o or√ßamento definindo a propriedade "display" da calculadora para none
    function fnMudarPaginas() {
        if (calculadora.style.display == 'none') {
        calculadora.style.display = 'block';
        orcamento.style.display = 'none';
        // Limpando a div resultado
        div_resultado.innerHTML = "";
        } else {
            calculadora.style.display = 'none';
            orcamento.style.display = 'block';
            // Limpando a div resultado
            div_mostrar.innerHTML = "";
        }
       

    }

    function fnCalcularOrcamento() {

            // Vari√°veis das inputs. ***************************************************************************************
            var Comprimento_Total = Number(input_comprimento.value); //Comprimento total de gasoduto.
            var Area_altoRisco = Number(input_altoRisco.value); // √Årea de alto risco (metros).
            var Espacamento_altoRisco = Number(input_espacoAlto.value); // Espa√ßamento entre os sensores de 10 a 50 (metros).
            var Area_baixoRisco = (Comprimento_Total - Area_altoRisco);// √Årea de baixo risco (metros).
            var Espacamento_baixoRisco = Number(input_espacoBaixo.value); // Espa√ßamento entre os sensores de 100 a 500 (metros).
            var Area_de_Risco = (Area_altoRisco + Area_baixoRisco); // Soma das duas √°reas de risco.


            // Alerts que aparecer√£o ao us√∫ario caso ele tenha se equivocado ao inserir os dados.***************************
            // Se algum campo n√£o estiver preenchido, aparecer√° um alert.
            if (Comprimento_Total == 0 || Area_altoRisco == 0 || Espacamento_altoRisco == 0 || Espacamento_baixoRisco == 0) {
                alert("Preencha todos os campos!"); // Alerta se algum campo estiver vazio.

                // Se um o us√∫ario informar um valor negativo (-1, -25, -398..) aparecer√° um alert.
            } else if (Comprimento_Total < 0 || Area_altoRisco < 0 || Espacamento_altoRisco < 0 || Espacamento_baixoRisco < 0) {
                alert("Os valores n√£o podem ser negativos!"); // Alerta se algum valor for negativo.

                // Se a √°rea de alto risco for maior que a ar√©a total aparecer√° um alert.
            } else if (Area_altoRisco > Comprimento_Total) {
                alert("A √°rea de alto risco n√£o pode ser maior que o comprimento total de gasoduto!"); // Alerta se a soma das √°reas for maior que o comprimento total.

                // Se o espa√ßamento entre os sensores for maior ou menor que o valor informado aparecer√° um alert.
            } else if (Espacamento_altoRisco < 10 || Espacamento_altoRisco > 50) {
                alert("O espa√ßamento entre sensores na √°rea de alto risco deve estar entre 10 e 50 metros!"); // Alerta se o espa√ßamento na √°rea de alto risco estiver fora do intervalo permitido.

            } else if (Espacamento_baixoRisco < 100 || Espacamento_baixoRisco > 500) {
                alert("O espa√ßamento entre sensores na √°rea de baixo risco deve estar entre 100 e 500 metros!"); // Alerta se o espa√ßamento na √°rea de baixo risco estiver fora do intervalo permitido.

                // Agora se o us√∫ario inserir os valor corretamente ir√° continuar a opera√ß√£o.***********************************
            } else {
                /*
                O comando "Math.ceil" arredonda um n√∫mero para cima, para o pr√≥ximo inteiro mais pr√≥ximo.
                Por exemplo:
                Math.ceil(4.1); -> 5
                Math.ceil(4.9); -> 5
                Aqui, tanto 4.1 quanto 4.9 s√£o arredondados para 5.
                */
                //Sensores.*****************************************************************************************************   
                // Vari√°veis da quantidade de sensores.
                var Qtd_SensoresAlto = Math.ceil(Area_altoRisco / Espacamento_altoRisco); //Quantidade de sensores em √°reas de alto risco
                var Qtd_SensoresBaixo = Math.ceil(Area_baixoRisco / Espacamento_baixoRisco); //Quantidade de sensores em √°reas de baixo risco
                var Qtd_SensoresTotal = (Qtd_SensoresBaixo + Qtd_SensoresAlto); //Total de Sensores.

                // Pre√ßo dos Sensores.
                var IR600_SemeaTech = 1114.34; // IR600 SemeaTech: R$1.114,34 -- Raio longo, bom para √°reas de baixo risco.
                var PIR300B_Winsen = 328.73; // Pre√ßo do sensor PIR300B Winsen: R$328,73 -- Raio curto, bom para ar√©as de alto risco.

                // Or√ßamento dos sensores.
                var orcamento_sensor_baixo = Qtd_SensoresBaixo * IR600_SemeaTech; // A quatidade de sensores em √°reas de baixo risco.
                var orcamento_sensor_alto = Qtd_SensoresAlto * PIR300B_Winsen; // A quatidade de sensores em √°reas de alto risco.
                var orcamento = (orcamento_sensor_alto + orcamento_sensor_baixo); // O or√ßamento final dos dois sensores.


                // Aqui vamos definir se na mensagem ir√° apaercer a unidade de quil√¥metros ou a unidade de metros. *************
                // Se o Comprimento total inserido pelo us√∫ario for maior que 1000 metros, a unidade ser√° km (quil√¥metros).
                if (Comprimento_Total >= 1000) { // O comprimento total de gasodutos maior ou igual a 1000 metros.
                    var medidaTotal = Comprimento_Total / 1000; // Resultado da divis√£o.
                    var unidadeTotal = "km"; // Tipo de unidade (Quil√¥metros).

                    // Agora se o Comprimento total inserido pelo us√∫ario for menor que 1000 metros, a unidade continu√°ra sendo m (metros).
                } else {
                    medidaTotal = Comprimento_Total; // O valor inserido e igual a medida do metros.
                    var unidadeTotal = "metros";
                } // Tipo de unidade (metros).

                // O mesmo se aplica com as √°reas de alto e baixo risco.
                if (Area_altoRisco >= 1000) {
                    var medidaAlta = Area_altoRisco / 1000;
                    var unidadeAlta = "km";

                } else {
                    medidaAlta = Area_altoRisco;
                    var unidadeAlta = "metros";
                }

                if (Area_baixoRisco >= 1000) {
                    var medidaBaixa = Area_baixoRisco / 1000;
                    var unidadeBaixa = "km";

                } else {
                    medidaBaixa = Area_baixoRisco;
                    var unidadeBaixa = "metros";
                }


                // A mensagem que aparecer√° para o us√∫ario ap√≥s ele inserir os dados.*******************************************
                /*
                O c√≥digo ".toLocaleString("pt-BR", { style: 'currency', currency: 'BRL'})" 
                ir√° deixar o or√ßamento formatado na moeda Brasileira (Real).
                */
                div_mostrar.innerHTML = `
    <p><b>Resultado da Simula√ß√£o de Or√ßamento</b></b>

    <p>Com base nas especifica√ß√µes fornecidas para o gasoduto com comprimento total de <b>${medidaTotal} ${unidadeTotal}</b></span>, nossa simula√ß√£o estima a seguinte aloca√ß√£o de sensores e servi√ßos de monitoramento:</p>

    <p><b><span style='color: #B22222'>√Åreas de Alto Risco ${medidaAlta} ${unidadeAlta}:</b></span></p>

    <ul>    
        <li><b>Sensores Utilizados:</b> ${Qtd_SensoresAlto} sensores PIR300B Winsen.</li>
        <li><b>Pre√ßo por Sensor:</b> <span style='color: #006400'><b>R$328,73.</b></span></li>
        <li><b>Custo Total para √Åreas de Alto Risco:</b> <span style='color: #006400'><b>${orcamento_sensor_alto.toLocaleString("pt-BR", { style: 'currency', currency: 'BRL' })}.</b></span></li>
    </ul>

    <p><b><span style='color: #696969'>√Åreas de Baixo Risco ${medidaBaixa} ${unidadeBaixa}:</b></span></p>

    <ul>
        <li><b>Sensores Utilizados:</b> ${Qtd_SensoresBaixo} sensores IR600 SemeaTech.</b></li>
        <li><b>Pre√ßo por Sensor:</b> <span style='color: #006400'><b>R$1.114,34.</b></span></li>
        <li><b>Custo Total para √Åreas de Baixo Risco:</b> <span style='color: #006400'><b>${orcamento_sensor_baixo.toLocaleString("pt-BR", { style: 'currency', currency: 'BRL' })}.</b></span></li>
    </ul>

    <p><b>Custo Total Estimado</b></p>
    
    <p>A <b>VZ<span style="color: #5CE1E6">ND</span></b> prop√µe a instala√ß√£o dos sensores e o servi√ßo de monitoramento pelo valor total de <b><span style='color: #006400'>${orcamento.toLocaleString("pt-BR", { style: 'currency', currency: 'BRL' })}</span></b>.<br>
        O servi√ßo de monitoramento inclui:</p>
    
    <ul>
        <li><b>Monitoramento em Tempo Real:</b> Acompanhamento cont√≠nuo dos sensores para detectar qualquer anomalia.</li>
        <li><b>Relat√≥rios Peri√≥dicos:</b> Atualiza√ß√µes regulares sobre o status do gasoduto e alertas em caso de poss√≠veis problemas.</li>
        <li><b>Suporte T√©cnico:</b> Assist√™ncia especializada para garantir a opera√ß√£o eficiente e r√°pida resolu√ß√£o de quaisquer quest√µes.</li>
    </ul>
    Este or√ßamento assegura a prote√ß√£o completa do seu gasoduto, proporcionando uma cobertura eficiente tanto nas √°reas cr√≠ticas quanto nas menos suscet√≠veis a vazamentos.</p>
    <a style='color: green; cursor: pointer' onclick="fnMudarPaginas()">Voltar para calculadora financeira</a>
    `;
            }
    }
</script>